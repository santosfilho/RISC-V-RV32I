library ieee;
use ieee.std_logic_1164.all;
use ieee.numeric_std.all;
use ieee.std_logic_unsigned.all;

entity ALU IS
	PORT( 
		a , b		: 	IN 		std_logic_vector	(15 downto 0);
		sel		: 	IN 		std_logic_vector(2 downto 0);
		result	: 	buffer 	std_logic_vector (15 downto 0);
		flag_alu	:	out 		std_logic
	);
end entity;

architecture rtl of ALU is
	
	begin 
	--aritimetica--
	WITH sel (2 downto 0) SELECT
		result <= 	a + b when "000",
						a - b when "001",
						a + '0' when "101",
						a - '1' when "110" ,
						(others => '1') when "111" ,
	--logica-- 
						a and b when "010",
						a or b when "011",
						not(a) when "100";
	
	process(result)
	begin
		if(result = "0000000000000000") then
			flag_alu <='1';
		else
			flag_alu <='0';
		end if;
	end process;		
	
	end rtl;